---
import { getCollection } from 'astro:content';
import BaseLayout from '@/layouts/BaseLayout.astro';

const work = await getCollection('work');
const sortedWork = work.sort((a, b) => a.data.order - b.data.order);
---

<BaseLayout title="Work" description="Selected work by RenÃ© Galindo">
  <div class="space-y-6">
    {sortedWork.map((project) => (
      <article class="space-y-2 -mx-4 px-4 py-3">
        <h2 class="font-medium text-gray-900">
          <a
            href={`/work/${project.slug}`}
            class="hover:underline"
          >
            {project.data.title}
          </a>
        </h2>
        {project.data.year && (
          <p class="text-sm text-gray-500">
            {project.data.year}
          </p>
        )}
        <p class="text-gray-700">
          {project.data.description}
        </p>
      </article>
    ))}
  </div>
</BaseLayout>
